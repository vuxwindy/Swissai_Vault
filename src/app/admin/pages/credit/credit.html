<div class="space-y-4">

  <h1 class="text-xl font-semibold text-white">Credit / Loan Requests</h1>

  <div class="hidden lg:block overflow-x-auto rounded-xl border border-white/10">
    <table class="w-full text-sm">
      <thead class="bg-slate-800 text-slate-400">
        <tr>
          <th class="px-4 py-3 text-left">User</th>
          <th>Amount</th>
          <th>Term</th>
          <th>Risk</th>
          <th>Status</th>
          <th>Date</th>
          <th class="text-right px-4">Actions</th>
        </tr>
      </thead>

      <tbody>
        <tr
          *ngFor="let c of credits"
          class="border-t border-white/5 hover:bg-slate-800/40">

          <td class="px-4 py-3">
            <p class="font-medium text-white">{{ c.fullName }}</p>
            <p class="text-xs text-slate-400">{{ c.email }}</p>
          </td>

          <td>{{ c.amount | number }} USDT</td>
          <td>{{ c.term }}</td>

          <td>
            <span
              class="px-2 py-1 rounded-full text-xs font-semibold"
              [ngClass]="{
                'bg-green-500 text-black': c.risk === 'low',
                'bg-yellow-500 text-black': c.risk === 'medium',
                'bg-red-500 text-black': c.risk === 'high'
              }">
              {{ c.risk | uppercase }}
            </span>
          </td>

          <td>
            <span
              class="px-2 py-1 rounded-full text-xs"
              [ngClass]="{
                'bg-yellow-500 text-black': c.status === 'pending',
                'bg-green-500 text-black': c.status === 'approved',
                'bg-red-500 text-black': c.status === 'rejected'
              }">
              {{ c.status }}
            </span>
          </td>

          <td class="text-slate-400">{{ c.createdAt }}</td>

          <td class="text-right px-4 space-x-2">

            <button
              *ngIf="c.status === 'pending'"
              (click)="approve(c)"
              class="text-green-400 hover:underline">
              Approve
            </button>

            <button
              *ngIf="c.status === 'pending'"
              (click)="reject(c)"
              class="text-red-400 hover:underline">
              Reject
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
 
<!-- MOBILE CARDS -->

 <div class="lg:hidden space-y-4">
  <div
    *ngFor="let c of credits"
    class="bg-slate-900 border border-white/10 rounded-xl p-4 space-y-3">

    <div>
      <p class="text-white font-semibold">{{ c.fullName }}</p>
      <p class="text-xs text-slate-400">{{ c.email }}</p>
    </div>

    <div class="flex justify-between text-sm">
      <span class="text-slate-400">Amount</span>
      <span>{{ c.amount | number }} USDT</span>
    </div>

    <div class="flex justify-between text-sm">
      <span class="text-slate-400">Term</span>
      <span>{{ c.term }}</span>
    </div>

    <div class="flex justify-between">
      <span class="text-slate-400">Status</span>
        <span
              class="px-2 py-1 rounded-full text-xs"
              [ngClass]="{
                'bg-yellow-500 text-black': c.status === 'pending',
                'bg-green-500 text-black': c.status === 'approved',
                'bg-red-500 text-black': c.status === 'rejected'
              }">
              {{ c.status }}
            </span>
    </div>

    <div class="flex gap-3 pt-2">
      <button *ngIf="c.status === 'pending'" (click)="approve(c)" class="flex-1 py-2 rounded-lg text-green-400 hover:underline">
        Approve
      </button>

      <button *ngIf="c.status === 'pending'" (click)="reject(c)" class="flex-1 py-2 rounded-lg text-red-400 hover:underline">
        Reject
      </button>
    </div>
  </div>
</div>

</div>  